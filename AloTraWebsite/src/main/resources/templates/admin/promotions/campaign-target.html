<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layouts/admin-layout :: layout(pageTitle='ƒê·ªëi t∆∞·ª£ng √°p d·ª•ng khuy·∫øn m√£i', pageContent=~{::content}, additionalJs=~{::additionalJs})}">

<th:block th:fragment="content">
    <div class="card shadow-sm">
        <div class="card-body">
            <h4 class="mb-4 fw-bold">üéØ ƒê·ªëi t∆∞·ª£ng √°p d·ª•ng chi·∫øn d·ªãch khuy·∫øn m√£i</h4>

            <!-- ==================== üì¢ CH·ªåN CHI·∫æN D·ªäCH ==================== -->
            <div class="mb-4">
                <label class="form-label fw-semibold">üì¢ Ch·ªçn chi·∫øn d·ªãch</label>
                <select class="form-select" id="campaignSelect" required>
                    <option value="" disabled selected>‚Äî Vui l√≤ng ch·ªçn chi·∫øn d·ªãch khuy·∫øn m√£i ‚Äî</option>
                </select>
            </div>

            <hr>

            <!-- ==================== üß≤ ƒê·ªêI T∆Ø·ª¢NG √ÅP D·ª§NG ==================== -->
            <div class="mb-3">
                <!-- 1. To√†n b·ªô s·∫£n ph·∫©m -->
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="targetType" id="targetAllProducts" value="ALL_PRODUCTS" checked>
                    <label class="form-check-label fw-semibold" for="targetAllProducts">
                        To√†n b·ªô s·∫£n ph·∫©m
                    </label>
                </div>

                <!-- 2. Theo danh m·ª•c -->
                <div class="form-check mt-2">
                    <input class="form-check-input" type="radio" name="targetType" id="targetByCategory" value="CATEGORY">
                    <label class="form-check-label fw-semibold" for="targetByCategory">
                        To√†n b·ªô s·∫£n ph·∫©m theo danh m·ª•c
                    </label>
                    <div id="categorySelectWrapper" class="mt-2 ms-4 d-none">
                        <select class="form-select" id="categorySelect">
                            <option value="" disabled selected>‚Äî Ch·ªçn danh m·ª•c ‚Äî</option>
                        </select>
                    </div>
                </div>

                <!-- 3. S·∫£n ph·∫©m c·ª• th·ªÉ -->
                <div class="form-check mt-2">
                    <input class="form-check-input" type="radio" name="targetType" id="targetByProducts" value="PRODUCTS">
                    <label class="form-check-label fw-semibold" for="targetByProducts">
                        Ch·ªçn s·∫£n ph·∫©m c·ª• th·ªÉ
                    </label>
                    <div id="productSelectWrapper" class="mt-2 ms-4 d-none">
                        <div class="border rounded p-2" style="max-height: 250px; overflow-y: auto;">
                            <div id="productCheckboxList" class="row row-cols-2 g-2">
                                <!-- JS render s·∫£n ph·∫©m -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <hr>

            <!-- ==================== N√öT L∆ØU ==================== -->
            <div class="d-flex justify-content-end mb-4">
                <button class="btn btn-secondary me-2" id="btnCancelTarget">H·ªßy</button>
                <button class="btn btn-primary" id="btnSaveTarget">L∆∞u ƒë·ªëi t∆∞·ª£ng √°p d·ª•ng</button>
            </div>

            <!-- ==================== üìä B·∫¢NG K·∫æT QU·∫¢ ==================== -->
            <h5 class="fw-bold mb-3">üìä Danh s√°ch ƒë·ªëi t∆∞·ª£ng √°p d·ª•ng</h5>
            <div class="table-responsive">
                <table class="table table-striped align-middle">
                    <thead class="table-light">
                        <tr>
                            <th>ID</th>
                            <th>Chi·∫øn d·ªãch</th>
                            <th>Lo·∫°i</th>
                            <th>S·∫£n ph·∫©m</th>
                            <th>H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody id="targetTableBody">
                        <tr>
                            <td colspan="5" class="text-center text-muted">Vui l√≤ng ch·ªçn chi·∫øn d·ªãch ƒë·ªÉ xem ƒë·ªëi t∆∞·ª£ng √°p d·ª•ng</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</th:block>

<th:block th:fragment="additionalJs">
<script type="module" th:src="@{/js/promotions/admin-target.js}"></script>
</th:block>
</html>
