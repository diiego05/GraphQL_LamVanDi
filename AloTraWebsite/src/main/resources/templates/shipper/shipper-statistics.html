<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layouts/shipper_layout :: layout(${pageTitle}, ~{::pageContent}, ~{::additionalJs})}">
<head>
    <meta charset="UTF-8">
    <title>Th·ªëng k√™ giao h√†ng</title>
</head>
<body>

<!-- üìä N·ªòI DUNG CH√çNH -->
<div class="page-content" th:fragment="pageContent">
  <div class="container-fluid py-4 position-relative">


    <!-- ===================== T·ªïng quan ===================== -->
    <div class="row g-4 mb-4">
      <div class="col-md-4 col-sm-6">
        <div class="card text-center p-3 h-100 shadow-sm">
          <i class="fas fa-clipboard-check fa-2x text-success mb-2"></i>
          <h6>ƒê∆°n ho√†n th√†nh</h6>
          <h3 id="summaryCompleted" class="fw-bold text-success">0</h3>
        </div>
      </div>
      <div class="col-md-4 col-sm-6">
        <div class="card text-center p-3 h-100 shadow-sm">
          <i class="fas fa-truck fa-2x text-info mb-2"></i>
          <h6>ƒêang giao</h6>
          <h3 id="summaryInProgress" class="fw-bold text-info">0</h3>
        </div>
      </div>
      <div class="col-md-4 col-sm-6">
        <div class="card text-center p-3 h-100 shadow-sm">
          <i class="fas fa-coins fa-2x text-warning mb-2"></i>
          <h6>T·ªïng thu nh·∫≠p</h6>
          <h3 id="summaryEarnings" class="fw-bold text-warning">0 ‚Ç´</h3>
        </div>
      </div>
    </div>

    <!-- ===================== B·ªô l·ªçc th·ªùi gian ===================== -->
    <div class="row mb-4">
      <div class="col-md-6">
        <label class="form-label">T·ª´ ng√†y</label>
        <input type="date" id="filterFrom" class="form-control">
      </div>
      <div class="col-md-6">
        <label class="form-label">ƒê·∫øn ng√†y</label>
        <input type="date" id="filterTo" class="form-control">
      </div>
    </div>
    <div class="mb-4 d-flex justify-content-between align-items-center">
      <button id="btnExportExcel" class="btn btn-outline-success">
        <i class="fas fa-file-excel me-1"></i> Xu·∫•t b√°o c√°o Excel
      </button>
      <button id="btnApplyFilter" class="btn btn-success">
        <i class="fas fa-filter me-1"></i> √Åp d·ª•ng
      </button>
    </div>

    <!-- ===================== Bi·ªÉu ƒë·ªì ===================== -->
    <div class="row g-4 mb-4">
      <div class="col-lg-8">
        <div class="card p-3 shadow-sm">
          <h6 class="mb-3">
            <i class="fas fa-chart-line me-2 text-success"></i>
            Doanh thu theo ng√†y
          </h6>
          <canvas id="revenueChart" style="min-height: 300px;"></canvas>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card p-3 shadow-sm">
          <h6 class="mb-3">
            <i class="fas fa-chart-pie me-2 text-info"></i>
            Tr·∫°ng th√°i ƒë∆°n h√†ng
          </h6>
          <canvas id="statusChart" style="min-height: 300px;"></canvas>
        </div>
      </div>
    </div>

    <!-- ===================== L·ªãch s·ª≠ thu nh·∫≠p ===================== -->
    <div class="card shadow-sm p-3">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h6 class="mb-0">
          <i class="fas fa-clock me-2 text-warning"></i>
          L·ªãch s·ª≠ thu nh·∫≠p
        </h6>
      </div>
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th>M√£ ƒë∆°n</th>
              <th>Ng√†y giao</th>
              <th>Ph√≠ v·∫≠n chuy·ªÉn</th>
              <th>Thu nh·∫≠p</th>
            </tr>
          </thead>
          <tbody id="historyTableBody">
            <tr><td colspan="4" class="text-center text-muted py-4">ƒêang t·∫£i...</td></tr>
          </tbody>
          <tfoot class="table-light">
            <tr>
              <td colspan="3" class="text-end fw-bold">T·ªïng thu nh·∫≠p:</td>
              <td id="historyTotalEarnings" class="fw-bold text-success">0 ‚Ç´</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>

  </div>
</div>

<!-- ===================== JS ===================== -->
<th:block th:fragment="additionalJs">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="/alotra-website/js/shipper/shipper-statistics.js"></script>
</th:block>

</body>
</html>
