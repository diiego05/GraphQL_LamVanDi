version: '3.8'

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    environment:
      SPRING_PROFILES_ACTIVE: docker

      # üîó K·∫øt n·ªëi ƒë·∫øn Azure SQL
      SPRING_DATASOURCE_URL: "jdbc:sqlserver://alotra.database.windows.net:1433;database=AloTraWeb;encrypt=true;trustServerCertificate=false;"
      SPRING_DATASOURCE_USERNAME: "your_azure_user@alotrasqlserver"
      SPRING_DATASOURCE_PASSWORD: "your_password"

      # ‚öôÔ∏è Hibernate
      SPRING_JPA_HIBERNATE_DDL_AUTO: "none"
      SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT: "org.hibernate.dialect.SQLServerDialect"

    restart: unless-stopped
